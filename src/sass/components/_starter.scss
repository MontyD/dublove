@import "normalize"; // font
//Variables
$colorMain: #5f368e;
$colorDark: #413978;
$colorLightMain: #5E35B1;
$colorSubtle: #2B52A4;
$colorHighlight: #F5D32C;
$colorAccent: #F5B12C;
$colorLight: #FFE154;
$colorBackground: #F1ECD6;
$colorGrey: #757575;
$colorWhite: #FFFFFF;
$colorLightGrey: #f1f1f1;
$colorBlack: #212121;
$containerWidth: 1000px;
$funFont: 'Bad Script', sans-serif;
$normalFont: 'Josefin Sans', sans-serif;
$largeBP: 1100px;
$mediumBP: 800px;
$smallBP: 650px;
@function top-shadow($depth) {
    $primary-offset: nth(1.5 3 10 14 19, $depth) * 1px;
    $blur          : nth(1.5 3 10 14 19, $depth) * 4px;
    $color         : rgba(black, nth(.12 .16 .19 .25 .30, $depth));
    @return 0 $primary-offset $blur $color;
}
@function bottom-shadow($depth) {
    $primary-offset: nth(1.5 3 6 10 15, $depth) * 1px;
    $blur          : nth(1 3 3 5 6, $depth) * 4px;
    $color         : rgba(black, nth(.24 .23 .23 .22 .22, $depth));
    @return 0 $primary-offset $blur $color;
}
@function calculateRem($size) {
    $remSize: $size / 16px;
    @return $remSize * 1rem;
}
//** Mixins **//
@mixin shadow($depth) {
     @if $depth < 1{
        box-shadow: none;
    }
    @else if $depth > 5 {
         @warn"Invalid $depth `#{$depth}` for mixin `shadow`.";
    }
    @else {
        box-shadow: bottom-shadow($depth), top-shadow($depth);
    }
}
@mixin darkShadow {
    text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.8);
}
body {
    font-family            : $normalFont;
    min-height             : 100%;
    background             : $colorBackground;
    background-image       : url('../images/background.png');
    color                  : $colorBlack;
    -webkit-font-smoothing : antialiased;
    -moz-osx-font-smoothing: grayscale;
}
.left {
    position: absolute;
    left    : 1.2em;
    right   : auto;
}
.right {
    position: absolute;
    right   : 1.2em;
    left    : auto;
}
.top {
    position: absolute;
    top     : 1.2em;
    bottom  : auto;
}
.bottom {
    position: absolute;
    bottom  : 1.2em;
    top     : auto;
}
h1,
h3,
h5 {
    font-family: $funFont;
    font-weight: normal;
    text-align : center;
}
h1 {
    font-size: 2.5em;
    margin   : 0.2em auto;
    &.main {
        letter-spacing: 3px;
        font-size     : 5em;
        @include darkShadow;
        @media(min-width: $mediumBP) {
            font-size: 5.5em;
        }
        @media(min-width: $largeBP) {
            font-size: 7.5em;
        }
    }
}
h2 {
    font-weight: normal;
    text-align : center;
    font-size  : 1.8em;
    &.main {
        font-size: 2em;
        @include darkShadow;
        @media(min-width: $largeBP) {
            font-size: 3em;
        }
    }
    &.funFont {
        font-family   : $funFont;
        font-size     : 3.2em;
        margin        : 0.2em auto;
        letter-spacing: 0.05em;
    }
}
h3 {
    font-size: 3em;
    &.normalFont {
        font-family: $normalFont;
    }
}
.subtleText {
    color     : $colorGrey;
    font-style: italic;
}
p.subtleText {
    font-size: 1.4em;
    margin   : 0.5em auto 1em;
}
.textShadow {
    @include darkShadow;
}
.likeButton,
button,
input[type="button"],
input[type="submit"] {
    display        : inline-block;
    background     : $colorMain;
    padding        : 0.6em 1.6em 0.5em;
    margin         : 0.5em auto;
    border         : none;
    border-radius  : 3px;
    color          : $colorWhite;
    text-decoration: none;
    font-size      : 1.4em;
    z-index: 10;
    @include shadow(1);
    transition     : box-shadow 0.2s ease;
    cursor         : pointer;
    &.primary {
        background: $colorAccent;
    }
    &:hover {
        @include shadow(2);
    }
    &:active,
    &:focus,
    &:visited {
        color  : $colorWhite;
        outline: none;
    }
}
.b-lazy {
    transition: opacity 500ms ease-in-out;
    max-width : 100%;
    opacity   : 0;
}
.b-loaded {
    opacity: 1;
}
.noTransition {
    transition: none;
}
.hidden {
    display: none;
}
header {
    position  : relative;
    background: $colorLightMain;
    color     : $colorWhite;
    height    : 200px;
    box-sizing: border-box;
    padding   : 1.5em;
    text-align: center;
    & + main.overlap {
        margin-top: -5em;
    }
}
main {
    position     : relative;
    width        : 95%;
    max-width    : $containerWidth;
    box-sizing   : border-box;
    margin-left  : auto;
    margin-right : auto;
    margin-bottom: 2em;
    overflow-x   : hidden;
    section {
        padding      : 1em;
        margin       : 2em auto;
        position     : relative;
        background   : $colorLightGrey;
        border-radius: 3px;
        @include shadow(1);
    }
}
section {
    position: relative;
}
footer {
    width     : 100%;
    margin    : 2em 0 0;
    box-sizing: border-box;
    h3 {
        padding-top  : 0.2em;
        margin-bottom: 0.2em;
    }
    .subtleText {
        color  : $colorWhite;
        margin : 0 auto;
        padding: 0.5em;
    }
}
span.funFont {
    font-family: $funFont;
    font-size  : 1em;
    color      : $colorMain;
}
.container {
    display   : block;
    position  : relative;
    width     : 100%;
    max-width : $containerWidth;
    margin    : 0 auto;
    box-sizing: border-box;
}
.padded {
    box-sizing: border-box;
    padding   : 0.5em;
}
p {
    width      : 80%;
    margin     : 2em auto;
    line-height: 150%;
    font-size  : 1.2em;
}
.centerAlign {
    text-align: center;
}
.thirds {
    display     : inline-block;
    width       : 32%;
    text-align  : justify;
    padding     : 1em;
    box-sizing  : border-box;
    margin-left : 0;
    margin-right: 0;
    vertical-align: top;
    p {
        padding       : 0;
        margin        : 0;
        vertical-align: top;
        width         : 100%;
    }
    h3 {
        margin   : 0 auto;
        font-size: 2.2em;
    }
    @media(max-width: $mediumBP) {
      display: block;
      width: 90%;
      margin: 0.5em auto;
    }
}
.feature {
    display   : block;
    width     : 40%;
    margin    : 0 auto;
    overflow-y: hidden;
    min-width: 300px;
    @media(max-width: $mediumBP) {
        width: 60%;
    }
    & * {
        display   : block;
        margin    : 0 auto;
        padding   : 0;
        width     : 100%;
        opacity   : 0;
        transform : translateY(100px);
        transition: opacity 0.6s ease, transform 1s ease;
    }
    &.active * {
        opacity  : 1;
        transform: translateY(0);
    }
}
.innerModal {
    display      : block;
    margin       : 0 auto;
    position     : relative;
    padding      : 0.5em;
    box-sizing   : border-box;
    width        : 90%;
    max-width    : 600px;
    border-radius: 4px;
    @include shadow(1);
    h1,
    h2,
    h3,
    h4 {
        margin: 0.2em;
    }
}
.childCentered * {
    display: block;
    margin : 0.2em auto;
}
.light {
    background: $colorBackground;
    color     : $colorBlack;
}
.dark {
    background: rgba(53, 28, 104, 0.72);
    color     : $colorWhite;
}
.grey {
    background: $colorLightGrey;
}
.darkBlue {
    background: $colorDark;
    color     : $colorWhite;
}
.animateScale {
    transform : scale(0);
    opacity   : 0;
    transition: opacity 0.8s ease, transform 1.2s ease;
    &.active {
        transform: scale(1);
        opacity  : 1;
    }
}
